<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juego de Figuras Literarias</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #eef2f8;
  color: #111;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
.app {
  background: #fff;
  padding: 25px 30px;
  border-radius: 12px;
  width: 450px;
  max-width: 95%;
  text-align: center;
  box-shadow: 0 6px 18px rgba(0,0,0,0.2);
}
h1 { margin-bottom: 15px; }
.question { font-size: 18px; min-height: 60px; margin: 20px 0; }
.options { display: grid; gap: 10px; }
.option {
  padding: 12px;
  border-radius: 8px;
  border: 2px solid #aaa;
  background: #e2e8f0;
  cursor: pointer;
  font-weight: 600;
  transition: 0.2s;
}
.option:hover { background: #cbd5e1; }
.option.correct { background: #34d399; border-color: #10b981; color: #fff; }
.option.wrong { background: #f87171; border-color: #ef4444; color: #fff; }
.timer { font-weight: 700; margin-top: 10px; font-size: 16px; }
.btn {
  margin-top: 15px;
  padding: 10px 18px;
  border: none;
  border-radius: 8px;
  background: #3b82f6;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
}
.btn:hover { background: #2563eb; }
.result { font-size: 24px; margin-top: 20px; font-weight: 700; }
.progress { height: 10px; background: #ddd; border-radius: 5px; margin-top: 15px; }
.progress-bar { height: 100%; background: #3b82f6; width: 0%; border-radius: 5px; transition: 0.4s; }

.total-time {
  font-size: 20px;
  margin-top: 10px;
  font-weight: 700;
}
</style>
</head>
<body>
<div class="app">
  <h1>Figuras Literarias</h1>
  <div class="question" id="question">Cargando...</div>
  <div class="options" id="options"></div>
  <div class="timer" id="timer">15s</div>
  <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
  <button class="btn" id="nextBtn" style="display:none;">Siguiente</button>
  <div class="result" id="result"></div>
  <div class="total-time" id="totalTime"></div>
</div>

<script>
const questionsBank = [
{q:"Mi perro pinta paredes para pasar el rato.", a:"Personificación"},
{q:"Silba suave la serpiente sigilosa.", a:"Aliteración"},
{q:"Canto, sueño, río.", a:"Asíndeton"},
{q:"Corre como un rayo.", a:"Símil"},
{q:"No busco gloria, no busco fama, no busco nada.", a:"Anáfora"},
{q:"El frío quema y el fuego calma.", a:"Antítesis"},
{q:"El león del barrio.", a:"Metáfora"},
{q:"La ciudad despertó furiosa.", a:"Personificación"},
{q:"Temer al temible temor nos torna tímidos.", a:"Políptoton"},
{q:"Sombras negras oscurecían la noche.", a:"Epíteto"},
{q:"Tengo tanta sed que bebería el mar entero.", a:"Hipérbole"},
{q:"Lo escuché con mis oídos.", a:"Pleonasmo"},
{q:"La primavera pintaba de risas el viento.", a:"Personificación"},
{q:"El niño corre y juega y grita y salta.", a:"Polisíndeton"},
{q:"Venía la venta tras la vendimia veloz.", a:"Paranomasia"},
{q:"Compré un Picasso.", a:"Metonimia"},
{q:"Olor a naranja brillante iluminó mi alma.", a:"Sinestesia"},
{q:"En el jardín, entre flores dormidas, se ocultaba la fuente.", a:"Hipérbaton"},
{q:"El miedo provoca tensión; la tensión genera caos.", a:"Anadiplosis"},
{q:"Tus ojos son dos faros.", a:"Metáfora"},
{q:"La luna abrazaba el mar con suavidad.", a:"Personificación"},
{q:"¡Qué amable eres!", a:"Ironía"},
{q:"Alma ardiente ardía ante el ardor.", a:"Políptoton"},
{q:"Las campanas cantaban como niñas.", a:"Símil"},
{q:"Fuerte fortaleza forjada en fuego.", a:"Aliteración"},
{q:"Sube que baja, baja que sube.", a:"Quiasmo"},
{q:"La tarde rugía como un tigre.", a:"Animalización"},
{q:"La dulce sombra azul acarició mi espalda.", a:"Sinestesia"},
{q:"Lo supe yo mismo.", a:"Pleonasmo"},
{q:"Tengo un hambre tal que devoraría montañas.", a:"Hipérbole"},
{q:"El tiempo cura, cura el tiempo.", a:"Quiasmo"},
{q:"Quiero calma, no quiero ruido, no quiero caos.", a:"Anáfora"},
{q:"Falta el final de la historia; yo, el principio.", a:"Elipsis"},
{q:"Estrellas doradas brillaban en la oscura noche.", a:"Epíteto"},
{q:"El océano nos miró en silencio.", a:"Personificación"},
{q:"Camino, observo, recuerdo.", a:"Asíndeton"},
{q:"Rosas rojas ríen rotundas.", a:"Aliteración"},
{q:"Pierde el que gana, gana el que pierde.", a:"Quiasmo"},
{q:"Sus manos eran alas.", a:"Metáfora"},
{q:"El trueno ladró en la montaña.", a:"Animalización"},
{q:"Dijo que sí diciendo no.", a:"Ironía"},
{q:"Frío cálido de tu abrazo.", a:"Antítesis"},
{q:"Y canta y ríe y teme y sueña.", a:"Polisíndeton"},
{q:"Siento el aroma verde del amanecer.", a:"Sinestesia"},
{q:"Un sorbo de alegría.", a:"Metonimia"},
{q:"Lo oí con mis oídos propios.", a:"Pleonasmo"},
{q:"La débil luz tenue iluminaba la cueva.", a:"Epíteto"},
{q:"Tengo tanta prisa que volaría.", a:"Hipérbole"},
{q:"Ríe la tarde al verte llegar.", a:"Personificación"},
{q:"No veo luz, no veo rumbo, no veo nada.", a:"Anáfora"},
{q:"Camina como gigante.", a:"Símil"},
{q:"Risa risueña risca resonante.", a:"Aliteración"},
{q:"Bebe la botella entera.", a:"Metonimia"},
{q:"El viento gruñía por los callejones.", a:"Animalización"},
{q:"Corre y brinca y canta y sueña y vive.", a:"Polisíndeton"},
{q:"Roja sangre ardía en su herida roja.", a:"Epíteto"},
{q:"Canta, sueña, vive.", a:"Asíndeton"},
{q:"Tenía tanto sueño que dormiría siglos.", a:"Hipérbole"},
{q:"Sabor amargo del silencio gris.", a:"Sinestesia"},
{q:"Te lo digo yo mismo.", a:"Pleonasmo"},
{q:"El cielo abraza la tierra.", a:"Personificación"},
{q:"La sombra serpentea como víbora.", a:"Símil"},
{q:"Perdona al perdonado por perdonar.", a:"Políptoton"},
{q:"Camino sin rumbo; ella, con destino.", a:"Elipsis"},
{q:"Habla como río.", a:"Símil"},
{q:"El agua susurra secretos.", a:"Personificación"},
{q:"Triste tristeza turbó la tarde.", a:"Aliteración"},
{q:"Quiero paz, no quiero miedo, no quiero guerra.", a:"Anáfora"},
{q:"Tu voz es seda.", a:"Metáfora"},
{q:"El rugido de los coches despertó la calle.", a:"Animalización"},
{q:"El calor helado del adiós.", a:"Antítesis"},
{q:"Era tan grande que tocaba el cielo.", a:"Hipérbole"},
{q:"Luz blanca pura inundaba el valle.", a:"Epíteto"},
{q:"El canto de tus manos acaricia el aire.", a:"Personificación"},
{q:"El sabor dulce del amanecer frío.", a:"Sinestesia"},
{q:"Vino, vio, venció.", a:"Asíndeton"},
{q:"Mira como halcón.", a:"Símil"},
{q:"Temo temer lo temido.", a:"Políptoton"},
{q:"La soledad susurraba su nombre.", a:"Personificación"},
{q:"En la cima, solo quedaba la niebla.", a:"Hipérbaton"},
{q:"Fuego que enfría, hielo que quema.", a:"Antítesis"},
{q:"Carcajada cruel corta el cielo.", a:"Aliteración"},
{q:"La flor lloraba gotas de luna.", a:"Personificación"},
{q:"Rugían los motores como toros bravos.", a:"Animalización"},
{q:"Me lo contó a mí mismo.", a:"Pleonasmo"},
{q:"Era tan fuerte que movía montañas.", a:"Hipérbole"},
{q:"La mesa me llamó a cenar.", a:"Personificación"},
{q:"Compré un Rioja excelente.", a:"Metonimia"},
{q:"Los ojos verdes del bosque susurraban.", a:"Personificación"},
{q:"El miedo trae dudas; las dudas traen caos.", a:"Anadiplosis"},
{q:"Oscura noche negra envolvía todo.", a:"Epíteto"},
{q:"Ríe y canta y baila y vuela.", a:"Polisíndeton"},
{q:"Toco el sonido dorado del amanecer.", a:"Sinestesia"},
{q:"Tus manos son fuego.", a:"Metáfora"},
{q:"No quiero dudas, no quiero sombras, no quiero mentiras.", a:"Anáfora"},
{q:"Calla, corre, huye.", a:"Asíndeton"},
{q:"Vuela como mariposa.", a:"Símil"},
{q:"El río hablaba con voz cansada.", a:"Personificación"},
{q:"Frío ardiente me recorrió.", a:"Antítesis"},
{q:"Temiendo teme el temeroso.", a:"Políptoton"}
];

let gameQuestions = [];
let currentIndex = 0;
let score = 0;
let timer = 15;
let timerInterval;

// NUEVO TIMER TOTAL
let totalTime = 0;
let totalInterval;

const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const timerEl = document.getElementById("timer");
const nextBtn = document.getElementById("nextBtn");
const resultEl = document.getElementById("result");
const totalTimeEl = document.getElementById("totalTime");
const progressBar = document.getElementById("progressBar");

function shuffle(array){for(let i=array.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]];}}

function startGame(){
score=0;currentIndex=0;resultEl.textContent="";progressBar.style.width="0%";
totalTime = 0;
totalTimeEl.textContent = "";

gameQuestions = [...questionsBank];
shuffle(gameQuestions);
gameQuestions = gameQuestions.slice(0,10);

totalInterval = setInterval(()=>{ totalTime++; },1000);

showQuestion();
}

function showQuestion(){
clearInterval(timerInterval);
timer=15;
timerEl.textContent = timer+"s";

const q = gameQuestions[currentIndex];
questionEl.textContent = q.q;
optionsEl.innerHTML="";

const figures = [
"Aliteración","Paranomasia","Asíndeton","Epífora","Anáfora","Hipérbaton",
"Polisíndeton","Elipsis","Epanadiplosis","Perífrasis","Ironía","Políptoton",
"Personificación","Animalización","Anadiplosis","Sinestesia","Metáfora",
"Pleonasmo","Metonimia","Epíteto","Hipérbole","Antítesis","Símil"
];

shuffle(figures);
let choices = figures.slice(0,3);
if(!choices.includes(q.a)) choices[0]=q.a;
shuffle(choices);

choices.forEach(f=>{
const btn = document.createElement("button");
btn.className="option";
btn.textContent=f;
btn.onclick=()=>checkAnswer(f);
optionsEl.appendChild(btn);
});

timerInterval = setInterval(()=>{
timer--;
timerEl.textContent = timer+"s";
if(timer<=0){clearInterval(timerInterval);checkAnswer(null);}
},1000);
}

function checkAnswer(selected){
clearInterval(timerInterval);
const q = gameQuestions[currentIndex];
const buttons = document.querySelectorAll(".option");
buttons.forEach(btn=>{
if(btn.textContent===q.a) btn.classList.add("correct");
if(selected && btn.textContent===selected && selected!==q.a) btn.classList.add("wrong");
btn.disabled=true;
});
if(selected===q.a) score++;
nextBtn.style.display="inline-block";
}

nextBtn.onclick=()=>{
currentIndex++;
if(currentIndex<gameQuestions.length){showQuestion();nextBtn.style.display="none";}
else{showResult();}
}

function showResult(){
clearInterval(totalInterval);

questionEl.textContent="";
optionsEl.innerHTML="";
nextBtn.style.display="none";

resultEl.textContent="Resultado final: "+score+" / "+gameQuestions.length;

totalTimeEl.textContent = "Tiempo total: " + totalTime + " segundos";
}

startGame();
</script>

</body>
</html>
